---
title: Функции
description: Функции-заменители служат для упрощения работы с данными.
---

Функции-заменители созданы для упрощения работы с данными. Каждый параметр функции может содержать в себе [заменители](./).

Если в ходе выполнения функции произойдет ошибка, то она вернет свой паттерн с названием ошибки.

## CHOOSE \{#choose}

Выбирает один случайный параметр из указанных.

#### Параметры \{#choose-params}

| Параметр  |           Тип            | По умолчанию | Описание                                          |
| --------- | :----------------------: | :----------: | ------------------------------------------------- |
| `...args` | `строковый[] числовой[]` |     `[]`     | Значения, которые будут выбраны случайным образом |

#### Примеры \{#choose-examples}

```javascript
{- CHOOSE(1; 2; 3; 4; 5; 6; 7; 8; 9) -}

// Использование заменителей

{- CHOOSE(Привет { member }!; Приветствую { member }!) -}
```

## DATE \{#date}

Возвращает дату основываясь на указанные параметры.

#### Параметры \{#date-params}

| Параметр      |                            Тип                            |    По умолчанию     | Описание                                          |
| ------------- | :-------------------------------------------------------: | :-----------------: | ------------------------------------------------- |
| `date?`       | <p><code>строковый</code></p><p><code>числовой</code></p> |    `Date.now()`     | Значение предоставляющее дату                     |
| `format?`     |                        `строковый`                        | `DD MMM YYYY HH:mm` | Формат даты                                       |
| `utc_offset?` |                        `строковый`                        |      `+00:00`       | Всемирное координированное время или часовой пояс |
| `locale?`     |                        `строковый`                        |        `ru`         | Язык возвращаемой даты: `ru` или `en`             |

#### Примеры \{#date-examples}

```javascript
{- DATE(1530764942197; DD MMM YYYY [в] HH:mm; +06:00; ru) -} // 05 июля 2018 в 10:29

// Использование заменителей

{- DATE({ guild.created_at }; DD.MM.YYYY; +03:00; en) -}
```

## DATENOW \{#datenow}

Возвращает текущую дату в миллисекундах.

#### Примеры \{#datenow-examples}

```javascript
{- DATENOW() -}
```

## FIXNUM \{#fixnum}

Обрезает количество чисел после десятичной запятой.

#### Параметры \{#fixnum-params}

| Параметр          |    Тип     | По умолчанию |                 Описание                  |
| ----------------- | :--------: | ------------ | :---------------------------------------: |
| `number`          | `числовой` | `0`          |       Число, которое нужно обрезать       |
| `fraction_digits` | `числовой` | `0`          | Количество чисел после десятичной запятой |

#### Примеры \{#fixnum-examples}

```javascript
{- FIXNUM(1.3232; 1) -}
```

## LOWER \{#lower}

Преобразовывает и возвращает значение строки в нижнем регистре.

#### Параметры \{#lower-params}

| Параметр |     Тип     | По умолчанию | Описание                                             |
| -------- | :---------: | :----------: | ---------------------------------------------------- |
| `str`    | `строковый` |    `none`    | Строка, которая будет преобразована в нижний регистр |

#### Примеры \{#lower-examples}

```javascript
{- LOWER(Hello World) -} // hello world

// Использование заменителей

{- LOWER({ guild }) -}
```

## MATH \{#math}

Возвращает результат математического выражения.

#### Параметры \{#math-params}

| Параметр           | Тип         | По умолчанию | Описание                                  |
| ------------------ | ----------- | ------------ | ----------------------------------------- |
| `expression`       | `строковый` | `none`       | Математическое выражение                  |
| `fraction_digits?` | `числовой`  | `0`          | Количество чисел после десятичной запятой |

#### Примеры \{#math-examples}

```javascript
{- MATH(10 * 100 / 20) -} // 50

{- MATH(559 + 334; 2) -} // 893.00

// Использование заменителей

{- MATH({ guild.channels.text } + { guild.channels.voice }) -}
```

## NUMDECL \{#numdecl}

Выбирает нужное склонение к числительному.

#### Параметры \{#numdecl-params}

| Параметр    |      Тип      | По умолчанию | Описание                      |
| ----------- | :-----------: | :----------: | ----------------------------- |
| `number`    |  `числовой`   |    `none`    | Склоняемое число              |
| `titles`    | `строковый[]` |    `none`    | Форма склонений слова         |
| `language?` |  `строковый`  |    `'ru'`    | Язык склонения: `ru` или `en` |

#### Примеры \{#numdecl-examples}

```javascript
{- NUMDECL(4; байт|байта|байтов) -} // байта

{- NUMDECL({ guild.members }; участник|участника|участников) -}
```

## RANDOM \{#random}

Возвращает случайное число в указанном диапазоне.

#### Параметры \{#random-params}

| Параметр |    Тип     | По умолчанию | Описание           |
| -------- | :--------: | :----------: | ------------------ |
| `start?` | `числовой` |     `0`      | Начальный диапазон |
| `end?`   | `числовой` |    `100`     | Конечный диапазон  |

#### Примеры \{#random-examples}

```javascript
{- RANDOM(1; 1000) -}
```

## REPLACE \{#replace}

Заменяет найденное значение на указанное и возвращает новую строку.

#### Параметры \{#replace-params}

| Параметр      |     Тип     | По умолчанию | Описание                                |
| ------------- | :---------: | :----------: | --------------------------------------- |
| `str`         | `строковый` |    `none`    | Текст в котором нужно произвести замену |
| `search`      | `строковый` |    `none`    | Значение поиска                         |
| `replacement` | `строковый` |    `none`    | Значение для замены                     |
| `flags?`      | `строковый` |     `g`      | Флаги регулярного выражения             |

#### Примеры \{#replace-examples}

```javascript
{- REPLACE(lacunabot.xyz; xyz; com) -} // lacunabot.com
```

## TRUNCATE \{#truncate}

Обрезает строку, если она превышает указанное количество символов.

#### Параметры \{#truncate-params}

| Параметр |     Тип     | По умолчанию | Описание                                                                                      |
| -------- | :---------: | :----------: | --------------------------------------------------------------------------------------------- |
| `str`    | `строковый` |    `none`    | Строка, которую нужно обрезать                                                                |
| `limit`  | `числовой`  |    `100`     | Допустимое количество символов в строке                                                       |
| `end`    | `строковый` |   `'...'`    | Символ(ы), которые будут заменять конец строки, если превышено допустимое количество символов |

#### Примеры \{#truncate-examples}

```javascript
{- TRUNCATE(Hello World; 5; ..) -} // Hello..

// Использование заменителей

{- TRUNCATE({ guild }; 10;  > ) -}
```

## TRIM \{#trim}

Удаляет пробельные символы в строке.

#### Параметры \{#trim-params}

| Параметр |     Тип     | По умолчанию | Описание           |
| -------- | :---------: | :----------: | ------------------ |
| `str`    | `строковый` |    `none`    | Строка с пробелами |

#### Примеры \{#trim-examples}

```javascript
{- TRIM(    Hello    World    ) -} // Hello World

// Использование заменителей

{- TRIM({ guild.owner.username }) -}
```

## UPPER \{#upper}

Преобразовывает и возвращает значение строки в верхнем регистре.

#### Параметры \{#upper-params}

| Параметр |     Тип     | По умолчанию | Описание                                              |
| -------- | :---------: | :----------: | ----------------------------------------------------- |
| `str`    | `строковый` |    `none`    | Строка, которая будет преобразована в верхний регистр |

#### Примеры \{#upper-examples}

```javascript
{- UPPER(Hello World) -} // HELLO WORLD

// Использование заменителей

{- UPPER({ guild.owner.username }) -}
```
